name: Fork PR Comment

on:
  pull_request_target:
    types: [opened, reopened]

jobs:
  comment:
    # Only run if the PR is from a fork
    if: github.event.pull_request.head.repo.full_name != github.repository
    runs-on: ubuntu-latest
    permissions:
      pull-requests: write
    
    steps:
      - name: Comment on PR
        uses: actions/github-script@v7
        with:
          script: |
            github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: 'ðŸ‘‹ Thank you for your contribution!\n\nThis pull request is from a forked repository so GitHub Actions will not be able to run CI. A maintainer will review your changes shortly and manually trigger the CI.\n\n**@maintainers** Please review this PR when you have a chance and follow the instructions in the [CONTRIBUTING.md](https://github.com/NVIDIA/accelerated-computing-hub/blob/main/CONTRIBUTING.md#reviewing-prs-from-forks) file to trigger the CI.'
            })

